\begin{tikzpicture}[
        scale=1.0,
        transform shape,
        >=Stealth,
        dotarrow/.style={circle,draw,inner sep=0pt,minimum size=.3cm,path picture={
        \fill (0,0) circle[radius=.6mm];}, node contents={}}]
    % Coordinates and aperture
    \path (0,0) node(O)[dotarrow];
    \draw[-{>[length=3mm, width=2mm]}] (O) -- (0, 1)node[left]{$y$};
    \draw[-{>[length=3mm, width=2mm]}] (O) -- (1, 0)node[below]{$x$};
    \draw node[below left] at (O){$z$};
    \draw[very thick] (O) rectangle (4, 2);
    % E-field
    \draw (O) sin (2, 1) (4,0) sin (2, 1);
    \foreach \x in {.5, 1, ..., 3.5}{
        \pgfmathsetmacro{\mylen}{sin((pi/4)*\x r)}
        \draw[red, ->] (\x, 0) -- (\x, \mylen);
    }
    % H-field
    \foreach \y in {1.2, 1.5, 1.8}{
        \draw[thin, blue, ->] (0, \y) -- (.5, \y);
        \draw[blue, ->] (.5, \y) -- (1.25, \y);
        \draw[blue, ->] (1.25, \y) -- (2.75, \y);
        \draw[blue, ->] (2.75, \y) -- (3.5, \y);
        \draw[very thin, blue, ->] (3.5, \y) -- (4, \y);
    }
    %% Legend
    %\path (4.9, 1.5)node[circle, fill=blue!]{} (5, 1.5) node[right]{$\vec{H}$};
    %\path (4.9, 1)node[circle, fill=red!]{} (5, 1) node[right]{$\vec{E}$};
    % Measurements
    \draw[{Bar}{Stealth}-{Stealth}{Bar}] (0, -.4) --node[below]{$A$, $m=1$} (4, -.4);
    \draw[{Bar}{Stealth}-{Stealth}{Bar}] (4.2, 2) --node[right]{$B$, $n=0$} (4.2, 0);
\end{tikzpicture}
